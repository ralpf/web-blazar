import{C as s,U as e,l as o}from"./index-B8XcoNot.js";class DevView extends s{initializeClassFields(){this.logLines=e.FindWithTag(this.root,"logRoot");const s=`ws://${window.location.host}/log`;s.includes("127.0.0.1")||s.includes("localhost")?(o("[WebSocket] disabled for localhost"),this.ws=null):(o(`[WebSocket] will use url: ${s}`),this.ws=new WebSocket(s))}initializeEvents(){this.ws&&(this.ws.onopen=()=>o("[WebSocket] Connect OK"),this.ws.onclose=()=>o("[WebSocket] disconnected"),this.ws.onmessage=s=>{const e=String(s.data);o(`[WebSocket] ${e}`);const t=this.logLines.firstElementChild.cloneNode(!0);t.textContent=e,this.logLines.appendChild(t),this.logLines.scrollTop=this.logLines.scrollHeight})}}export{DevView};
