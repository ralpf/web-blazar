import{C as s,U as e,l as t}from"./index-BAnrADdp.js";class DevView extends s{initializeClassFields(){this.logLines=e.FindWithTag(this.root,"logRoot");const s=`ws://${window.location.host}/log`;s.includes("127.0.0.1")||s.includes("localhost")?this.ws=null:this.ws=new WebSocket(s)}initializeEvents(){this.ws?(this.ws.onopen=()=>t("[WebSocket] Connect OK"),this.ws.onclose=()=>t("[WebSocket] disconnected"),this.ws.onmessage=s=>{const e=String(s.data);t(`[WebSocket] ${e}`);const o=document.createElement("div");o.textContent=e,this.logLines.appendChild(o),this.logLines.scrollTop=this.logLines.scrollHeight}):t("[WebSocket] disabled for localhost")}}export{DevView};
