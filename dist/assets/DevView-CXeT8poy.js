import{C as e,U as s,l as t}from"./index-B_OQw4Ez.js";class DevView extends e{initializeClassFields(){this.logLines=s.FindWithTag(this.root,"logRoot");const e=`ws://${window.location.host}/log`;e.includes("127.0.0.1")||e.includes("localhost")?(t("[WebSocket] disabled for localhost"),this.ws=null):(t(`[WebSocket] will use url: ${e}`),this.ws=new WebSocket(e))}initializeEvents(){this.ws&&(this.ws.onopen=()=>t("[WebSocket] Connect OK"),this.ws.onclose=()=>t("[WebSocket] disconnected"),this.ws.onmessage=e=>{const s=String(e.data);t(`[WebSocket] ${s}`);const o=document.createElement("div");o.textContent=s,this.logLines.appendChild(o),this.logLines.scrollTop=this.logLines.scrollHeight})}}export{DevView};
