import{C as e,U as s,l as o}from"./index-CfGQQWNY.js";class DevView extends e{initializeClassFields(){this.logLines=s.FindWithTag(this.root,"logRoot");const e=`ws://${window.location.host}/log`;e.includes("127.0.0.1")||e.includes("localhost")?(o("[WebSocket] disabled for localhost"),this.ws=null):(o(`[WebSocket] will use url: ${e}`),this.ws=new WebSocket(e))}initializeEvents(){this.ws&&(this.ws.onopen=()=>o("[WebSocket] Connect OK"),this.ws.onclose=()=>o("[WebSocket] disconnected"),this.ws.onmessage=e=>{const s=String(e.data);o(`[WebSocket] ${s}`);const t=this.logLines.firstElementChild.cloneNode(!0),i=(new Date).toLocaleTimeString("en-GB",{hour12:!1});t.textContent=`${i}: ${s}`,this.logLines.appendChild(t),this.logLines.scrollTop=this.logLines.scrollHeight})}}export{DevView};
