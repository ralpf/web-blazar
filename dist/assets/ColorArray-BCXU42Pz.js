import{FormUnit as t}from"./FormUnit-CcWJ4q4w.js";import{A as e}from"./index-DZf0d4uy.js";class ColorArray extends t{constructor(){super(...arguments),this.all=[]}get count(){return this.all.length}initializeClassFields(){this.prototype=this.getField("prototype"),this.container=this.prototype.root.parentElement,this.prototype.root.remove(),this.cloneTemplate(0)}initializeEvents(){}cloneTemplate(t){const i=e.cloneUnit(this.prototype,this,this.container),o=this.container.children[t+1]??null;this.container.insertBefore(i.root,o),i.onAddItem=this.onAddItemClicked.bind(this),i.onDelItem=this.onDelItemClicked.bind(this),i.callback=t=>this.propagateURL(`color=${t}`),this.all.splice(t+1,0,i),this.all[0].setDeleteButtonVisible(this.count>1),i.setRandomColor()}onAddItemClicked(t){let e=0;for(;e<this.count&&this.container.children[e]!==t.root;++e);this.cloneTemplate(e)}onDelItemClicked(t){e.removeUnit(t),this.all=this.all.filter(e=>e!==t),1===this.count&&this.all[0].setDeleteButtonVisible(!1)}}export{ColorArray};
